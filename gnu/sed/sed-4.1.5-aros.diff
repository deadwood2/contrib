diff -ruN sed-4.1.5/configure sed-4.1.5.aros/configure
--- sed-4.1.5/configure	2006-02-03 09:24:40.000000000 +0000
+++ sed-4.1.5.aros/configure	2006-04-27 02:05:55.000000000 +0000
@@ -10147,8 +10147,6 @@
     LINGUAS="${LINGUAS-%UNSET%}"
 
 
-  install_sh="$install_sh"
-
 _ACEOF
 
 
@@ -11265,14 +11263,10 @@
       esac
     done ;;
     gettext-fix )
-  sed -e '/^mkinstalldirs *=/a\' \
-      -e "install_sh=$install_sh" \
-      -e 's/^mkinstalldirs *=.*/mkinstalldirs=$(MKINSTALLDIRS)/' \
+  sed -e 's/^mkinstalldirs *=.*/mkinstalldirs=$(MKINSTALLDIRS)/' \
       intl/Makefile > intl/Makefile.tmp
   mv intl/Makefile.tmp intl/Makefile
-  sed -e '/^mkinstalldirs *=/a\' \
-      -e "install_sh=$install_sh" \
-      -e 's/^mkinstalldirs *=.*/mkinstalldirs=$(MKINSTALLDIRS)/' \
+  sed -e 's/^mkinstalldirs *=.*/mkinstalldirs=$(MKINSTALLDIRS)/' \
       po/Makefile > po/Makefile.tmp
   mv po/Makefile.tmp po/Makefile ;;
   esac
diff -ruN sed-4.1.5/lib/getopt.c sed-4.1.5.aros/lib/getopt.c
--- sed-4.1.5/lib/getopt.c	2005-06-21 14:09:37.000000000 +0000
+++ sed-4.1.5.aros/lib/getopt.c	2025-09-30 14:30:03.353492154 +0000
@@ -79,6 +79,10 @@
 # endif
 #endif
 
+#if defined(__AROS__)
+#include <string.h>
+#endif
+
 #ifndef _
 /* This is for other GNU distributions with internationalized messages.
    When compiling libc, the _ macro is predefined.  */
diff -ruN sed-4.1.5/sed/compile.c sed-4.1.5.aros/sed/compile.c
--- sed-4.1.5/sed/compile.c	2006-02-03 09:06:26.000000000 +0000
+++ sed-4.1.5.aros/sed/compile.c	2006-04-27 02:05:55.000000000 +0000
@@ -1586,7 +1586,7 @@
 
   prog.file = stdin;
   if (cmdfile[0] != '-' || cmdfile[1] != '\0')
-    prog.file = ck_fopen(cmdfile, "rt", true);
+    prog.file = ck_fopen(cmdfile, "r", true);
 
   cur_input.line = 1;
   cur_input.name = cmdfile;
